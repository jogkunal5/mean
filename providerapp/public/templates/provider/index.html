<style>
    .gridtbl > thead > tr > th{
        border-bottom: none;
    }
    .gridtbl tr th a{
        color: #337AB7;
    }

    .gridtbl {
        box-sizing: border-box;
        -moz-box-sizing: border-box;
        display: flex;
        flex-direction: column;
        align-items: stretch;
        height: 560px; 
    }

    .gridtbl * {
        box-sizing: inherit;
        -moz-box-sizing: inherit;
    }

    .gridtbl thead {
        display: flex;
        flex-direction: column;
        align-items: stretch;
    }

    .gridtbl tbody {
        overflow-y: scroll;
        display: inline-block;
    }

    .gridtbl thead > tr, tbody > tr, tfoot > tr {
        display: flex;
        flex-direction: row;
        flex-wrap: nowrap;
    }

    .gridtbl thead, tfoot {
        flex-shrink: 0;
    }

    .gridtbl th, tbody td {
        width: 20%; /* this can vary */
        overflow-x: hidden;
        text-overflow: ellipsis;
        display: inline-block;
    }

    .gridtbl tfoot {
        display: inline-block;
    }

    .gridtbl tfoot td {
        width: 100%;
        display: inline-block;
    }    
</style>

<section class="global-page-header">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="block">
                    <h2>Providers</h2>
                </div>
            </div>
        </div>
    </div>   
</section><!--/#Page header-->


<section id="contact-section">
    <div class="container">

        <div class="flash-message" ng-if="flash">
            <div class="{{'alert alert-' + flash.type}} alert-dismissible" role="alert" ng-bind="flash.message"></div>
        </div>

        <div class="panel panel-primary">
            <div class="panel-heading"><h4 class="panel-title">Edit Provider's List</h4></div>
            <select class="form-control" ng-model="collection">
                <option value="">Select Document Name</option>
                <option ng-click="getCollectionData()" ng-repeat="(key, val) in collectionList" value="{{val.name}}">{{val.name| uppercase}}</option>
            </select>
            <input type="text" class="form-control" ng-model="row.names" placeholder="Instant Search">
            <table class="table gridtbl" st-table="displayedCollection" st-safe-src="providerList">
                <thead>
                    <tr>                
                        <!--                        <th cs-select-all="val"  selected="selected" ng-click="selectAll(val)"></th>-->
                        <th></th>
                        <th st-sort="key" ng-repeat="(key, val) in providerList[0]" ng-if="!$first && $index <= 3">                                            
                            {{key.replace("_", " ") | uppercase}} &#8645;
                        </th>                        
                    </tr>
                </thead>

                <tbody>
                    <tr ng-repeat="(key, row) in displayedCollection | filter:row.names | orderBy: -1">                                                            
                        <td cs-select="row" ng-click="select(row._id)"></td>
                        <td ng-repeat="cell in row" ng-if="!$first && $index <= 3">
                            {{cell}}
                        </td>
                        <td>                                    
                            <!--                                                    <a class="btn btn-warning" ng-href="#/collectiondata/{{row._id}}/collectionName/{{collectionName}}">Edit</a>                        -->
                            <button ng-click="toggleModal(row._id, collectionName)" class="btn btn-success">Edit</button>
                        </td>                
                    </tr>       
                </tbody>

                <tfoot>
                    <tr>
                        <td colspan="3" class="text-center">
                            <div  st-items-by-page="10" st-pagination=""></div>
                        </td>
                    </tr>                    
                    <tr ng-show="collection">
                        <td colspan="3" class="text-center">
                            <button class="btn btn-danger" ng-click="exportAll(collectionName)">Export All/Selected</button>
                            <!--                            <button disabled="" class="btn btn-danger" ng-click="exportAll(collectionName)">Export selected to excel</button>-->
                        </td>
                    </tr>
                </tfoot>
            </table>
        </div>
    </div>
</section>


<modal title="Edit Record" visible="showModal" data-backdrop="static" data-keyboard="false">

    <div class="form-group" ng-repeat="(index, formVal) in providerModelData"  ng-if="!$first">                    
        <label>{{index.replace("_", " ") | uppercase}}</label>
        <input type="text" class="form-control" ng-model="providerModelData[index]">        
    </div>

    <input type="hidden" ng-model="colName">

    <div class="well well-sm text-center bg-gray">                                    
        <button class="btn btn-sm btn-primary" ng-click="save(colId)">Save</button>
        <button class="btn btn-sm btn-success" ng-click="export(colId)">Save & Export to .xlsx</button>
    </div>
</modal>

<style>
    .modal-dialog{
        width: 800px;
    }
</style>